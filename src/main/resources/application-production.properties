# =============================================================================
# AUTH MICROSERVICE - PRODUCTION CONFIGURATION
# =============================================================================
# This file contains production-specific configuration overrides
# IMPORTANT: Sensitive values should be provided via environment variables

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
app.env=production
server.port=8080

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
db.host=prod-postgres.internal
db.port=5432
db.name=auth_microservice_prod
db.username=auth_user_prod
# db.password should be provided via DB_PASSWORD environment variable

# Database Pool Configuration (optimized for production)
db.pool.maxSize=50
db.pool.maxWaitQueueSize=100
db.pool.connectionTimeout=30000
db.pool.idleTimeout=600000

# Database Reconnection Configuration
db.reconnect.attempts=5
db.reconnect.interval=2000

# Health Check Configuration
db.healthCheck.interval=60000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
redis.host=prod-redis.internal
redis.port=6379
# redis.password should be provided via REDIS_PASSWORD environment variable
redis.database=0

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# jwt.secret should be provided via JWT_SECRET environment variable
jwt.issuer=auth-microservice-prod
jwt.accessTokenExpiry=900
jwt.refreshTokenExpiry=604800

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Password hashing (secure rounds for production)
security.bcrypt.rounds=12

# Rate Limiting (strict for production)
security.rateLimit.login.attempts=5
security.rateLimit.login.windowMinutes=15
security.rateLimit.login.blockMinutes=60
security.rateLimit.api.requestsPerMinute=60

# CORS Configuration (restrictive for production)
security.cors.allowedOrigins=https://yourdomain.com,https://app.yourdomain.com
security.cors.allowedMethods=GET,POST,PUT,DELETE,OPTIONS
security.cors.allowedHeaders=Content-Type,Authorization,X-Requested-With

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Logging (structured for production)
logging.level=WARN
logging.format=json
logging.file.enabled=true
logging.file.path=/var/log/auth-microservice/app.log
logging.file.maxSize=50MB
logging.file.maxFiles=10

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Email Service (enabled for production)
email.enabled=true
email.smtp.host=smtp.yourdomain.com
email.smtp.port=587
# email.smtp.username and email.smtp.password should be provided via environment variables
email.from.address=noreply@yourdomain.com
email.from.name=Your App Name

# GeoLocation Service (enabled for production)
geolocation.enabled=true
# geolocation.apiKey should be provided via GEOLOCATION_API_KEY environment variable

# =============================================================================
# USERNAME GENERATION CONFIGURATION
# =============================================================================
# Username generation settings optimized for production environment
# Maximum performance and security with comprehensive collision resolution

# Username constraints (production standards)
username.generation.maxLength=64
username.generation.minLength=3

# Collision resolution (maximum attempts for production reliability)
username.generation.maxCollisionAttempts=100

# Additional reserved words for production
# Should be provided via USERNAME_RESERVED_WORDS environment variable
# Include organization-specific terms, brand names, and sensitive keywords
username.generation.reservedWords=${USERNAME_RESERVED_WORDS:}

# Username cache configuration (optimized for production)
# Longer expiration and larger cache size for optimal performance
username.generation.cache.enabled=true
username.generation.cache.expirationMinutes=60
username.generation.cache.maxSize=10000
username.generation.cache.keyPrefix=prod:username:exists:

# Performance monitoring (production optimized)
# Higher threshold for production to avoid noise, focus on real issues
username.generation.metrics.enabled=true
username.generation.metrics.slowOperationThreshold=100

# =============================================================================
# PRODUCTION SPECIFIC CONFIGURATION
# =============================================================================
dev.mode=false
dev.autoReload=false
dev.mockExternalServices=false

# SSL/TLS Configuration
ssl.enabled=true
ssl.keystorePath=/etc/ssl/certs/auth-microservice.p12
# ssl.keystorePassword should be provided via SSL_KEYSTORE_PASSWORD environment variable
ssl.keyAlias=auth-microservice

# Security Headers
security.headers.enabled=true
security.hsts.enabled=true
security.hsts.maxAge=31536000

# Production optimizations
production.enableGzipCompression=true
production.enableCaching=true
production.cacheMaxAge=3600
production.enableRequestLogging=false
production.enableSlowQueryLogging=true
production.slowQueryThreshold=5000